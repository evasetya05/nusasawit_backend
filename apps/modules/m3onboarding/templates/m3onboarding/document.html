{% extends 'dashboard/base.html' %}
{% block content %}
<h1 class="mb-3">Dokumen Standar</h1>

{% if request.user.is_owner %}
<div class="card mb-4">
  <div class="card-header">Unggah Dokumen (maks 2 MB)</div>
  <div class="card-body">
    <form method="post" enctype="multipart/form-data">
      {% csrf_token %}
      <div class="row g-3 align-items-end">
        <div class="col-md-6">
          {{ form.name.label_tag }}
          {{ form.name }}
          {% if form.name.errors %}<div class="text-danger small">{{ form.name.errors }}</div>{% endif %}
        </div>
        <div class="col-md-6">
          {{ form.file.label_tag }}
          {{ form.file }}
          {% if form.file.errors %}<div class="text-danger small">{{ form.file.errors }}</div>{% endif %}
        </div>
      </div>
      <div class="mt-3">
        <button type="submit" class="btn btn-primary">Unggah</button>
      </div>
    </form>
  </div>
</div>
{% endif %}

<div class="card">
  <div class="card-header">Daftar Dokumen</div>
  <div class="card-body p-0">
    <div class="table-responsive">
      <table class="table table-striped mb-0">
        <thead>
          <tr>
            <th>Nama Dokumen</th>
            <th>File</th>
          </tr>
        </thead>
        <tbody>
          {% for d in docs %}
          <tr>
            <td>{{ d.name }}</td>
            <td><a href="{{ d.file.url }}" target="_blank" rel="noopener">Unduh</a></td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="2" class="text-center text-muted">Belum ada dokumen</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}
